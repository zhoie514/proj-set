1,TPJF,"合作方能正常发送请求,无返回数据,报rsa error",all,all,网关错误,\,"网关日志中看,kibana搜索message:api/url即可",1.看产品配置的key是否正确;2.api鉴权配置是否正确;3.网关配置是否正确(吴琪韩协助)4.jumperserver Transaction 可看
2,TPJF,文件上传错误,文件上传,50008,配置错误,security config error: app[production:hb],看kib,"询问对方传的什么参数,hb明显是错误的,(应与太平金服有关,而不是还呗),再看我们这边需要什么参数(吴琪韩)
SOURCE_ID 的值 换成 appid 的值 "
3,TPJF,文件上传错误,文件上传,50008,配置错误,standard signature error,看kib,secretid &secret_key用叉了
4,TPJF,征信查询超时,征信请求,50001,配置错误,timeout,"看transaction,Data均可","找淦哥,改配置"
5,TPJF,"征信查询 未落地,报错,404",征信请求,50001,核心错误,"找不到数据,404,未落地",trans ,"从trans中找到是哪个核心报错,以及url prism_prod 找徐炜炕/audit_task找何林"
6,TPJF,征信查询请求参数报错,征信请求,50001,参数错误,xxx is required,"看transaction,","里面有具体哪个参数出错,不确定的参数可以看lua中的代码,"
7,TPJF,字段缺失,征信请求,50001,参数错误,"""Missing keys: 'phone_city'","看data,看lua","找到lua中哪里用了phone_city这个字段,一值往找,看是谁(哪个服务)提供这个内容,再回到Data log里面找该服务的调用与返回值(返回的全是null与""""),此例发现,调用的是一个11位数,该11位数并不符合手机号要求,故查不到归属地,所以取不到phone_city"
8,TPJF,微信号已注册,征信请求,50001,无,微信号已注册,Transaction里面看到的出错信息,"在清数脚本中,手机号,身份证都找不到用户,openid也找不到,证明是脏数据,清理了一下redis缓存/换其他账号注册就正常,未找到原因"
9,TPJF,OCR识别出错,征信结果查询,50002,图片信息出错,OCR识别出错 08,"Data中搜 50001&public-service-node,里面的step9会返回错误码","根据这个错误码,对应代码(Garry哥提供有片段图片)可以查到部分"
10,TPJF,征信查询失败,征信结果查询,50002,参数错误,征信查询失败 04,Data里面看,"首先看50001的返回值,是否请求成功
pbocQueryNo不能变更,从apply开始就不能变,它并不是apply服务返回的trdQueryNo值,"
11,TPJF,征信查询失败,征信结果查询,50002,流程错误,征信查询失败 04,data/清数据重新操作,"50001返回值成功
清除数据重新注册时,未传身份证"
12,TPJF,征信查询请求不存在 ,征信结果查询,50002,核心错误,征信查询请求不存在 07,"查询配套请求,发现是下游返回的空","credit返回空,改lua与redit,增加一个逻辑步骤"
13,TPJF,征信查询请求不存在 ,征信结果查询,50002,调度错误,"征信查询请求不存在 07
AppId 50002 call lua OnServiceReq script fail",data+transaction要看Error  同时间的,"取消deviceInfo字段后发生,修改lua中取值的判断
// 有的时候可能是切版导致的"
14,TPJF,征信查询请求不存在 ,征信结果查询,50002,核心错误,征信查询请求不存在 07,"看data50001/50002,究竟是哪开始返回的这个东西","credit服务回退导致,亮哥更新一下版本即可
可能 是回退导致h5_id不识别了"
15,TPJF,征信查询请求不存在 ,征信结果查询,50002,调用错误,征信查询请求不存在 07,data/transaction,"credit返回正常值,必须要等50001返回成功后才能调用这个接口,50001与50002不能并行"
16,TPJF,字段未通过验证,授信请求,50003,参数错误,"字段验证未通过
""code"":1016000101",tran+data,"排除字段名字的问题,发现是chaos步骤验证出的问题,发现经纬度传的0,0,故改为一个正常的值 "
17,TPJF,缺少参数,授信请求,50003,参数错误,xxx is required,"看transaction,","里面有具体哪个参数出错,不确定的参数可以看lua中的代码,
transaction中在反欺诈需要deviceId,故协调取消限制"
18,TPJF,缺少参数,授信请求,50003,调度错误,teltphone is required,"transac看出是第四步,再看lua","第四步需要telephone=unifo.phone;再看用户中心userinfo.phone ~= nil
清数据重试正常,未找到原因"
19,TPJF,"当前不支持变更loan_type,请检查参数",授信请求,50003,核心错误,"当前不支持变更loan_type,请检查参数","看50003中dpc_server的入参,找到 app_info"",product_list_info内的loan_type与loan_type_kind","助贷产品是0401核心数据库中早上被修改为0101了(石云峰),也可能 是渠道号的问题(谭伊玲)
dpc_server中的返回值,看前面两个东西,信用类是01与01,担保类助贷是04与01"
20,TPJF,查找不到案件信息,授信请求,50003,调度错误,case data not found,data tran,"1.流水号是否正确
2. 征信是否成功
3.问核心是否有案件 何林"
21,TPJF,修复20后影起的问题,授信请求,50003,核心错误,"prod/list|Code|99999999|Desc|系统错误,请稍后重试",data+transaction,就这个核心服务出错
22,TPJF,返回值 中code=01,授信请求,50003,无,"{""msg"":""user apply limited"",""status"":""01""}
[01代表接收失败]","tran,data","1.data里面看不出报错信息
2. trans里面可以看到报错的行
3. 该报错的行,并没有对应核心服务
4.应该是lua返回的错误,全局搜索user apply limited ,在50x3中有一个条件会触发
5. 同时其他的某些条件也会触发 01"
23,TPJF,前端返回request faild,授信结果查询,50004,参数错误,"{""code"":?1016000101,?""msg"":?""\u5b57\u6bb5\u672a\u901a\u8fc7\u9a8c\u8bc1"",?""data"":?null}",data,"取出该经纬度,发现能定位成功,找chaos负责人员 王强,-> 经纬度传反了,大的数字在前面"
24,TPJF,lua调用脚本失败,授信结果查询,50004,调度错误,AppId 50003 call lua OnServiceReq script fail,data+transaction要看Error  同时间的,"找出lua报错的行数 关键字
改代码"
25,TPJF,放款请求/结果查询,放款结果查询,50006,核心错误,"PVDCE001:\\r\\n[请求方代码最大2字符]最小值为0,最大值为[2],实际值为[TPJF]\\r\\n\""}",Data,"sourceCode核心按昭2字节在检查,所以报错,这会涉及到后面的所有接口,修改核心代码"
26,TPJF,放款请求/结果查询,放款结果查询,50006,核心错误,"PVDCE001:\\r\\n[请求方代码最大2字符]最小值为0,最大值为[2],实际值为[TPJF]\\r\\n\""}",Data,"测试环境热修复造成,直接问徐炜杭,"
27,TPJF,放款请求,放款请求,50005,API配置出错,验签失败,可以从Data里面提取出data并解密/也看不出什么,"1.数据解密没有问题,2.能收到请求,3.查看API列表里面的配置,发现rsa那一栏莫名变为none了"
28,TPJF,放款结果,放款结果查询,50006,参数错误,01 放款失败,tran,1.trans中说该流水号已经请求过了(loanReqNo);2. 更换一个新的流水号
29,TPJF,缺少签章文本域,放款结果查询,50006,核心错误,缺少签章文本域,trans,"周芯:这是chaos新加的验证文本域的功能，修改一下文本域,重试"
30,TPJF,放款结果一直在处理中,放款结果查询,50006,无,99 处理中,trans,"一般要10分钟才同步好借据号,配合e|50005|step|47|与""uin"":47277 可以找到什么时候同步回来的"
31,TPJF,返回字段不一致,放款结果查询,50006,API配置出错,"无,客户端返回结果中少loanContractNo字段",Data返回正常,"Data中返回正常,网关层看出口message中各个地方都返回完整的6个字段,API配置列表中的返回字段错误 space后台"
32,TPJF,账户状态错误,放款结果查询,50006,核心切日,"loanResult:""01"",""loanResultDesc"":""账户状态错误""","调度返回的错误信息,看代码找Data","调度里面是哪个服务返回的数据有问题导致的这个返回,回溯变量名,找到是loan/handle 服务报错, 在datalog里面搜trx + 这个服务名, 找到期返回值,里面就有BCMSxxx 额度失效"
33,TPJF,还款通知一直处理中,还款通知,50007,参数错误,99 处理中,trans+data正常,"Leon(席毅锋) 那边查出来是soruceCode没传,调度中心好像没有处理这个字段为必填,没有捕获到该错误"
34,TPJF,还款通知一直处理中,还款通知,50007,行方错误,99 处理中,trans正常fineshed data里面长时间返回这个,"上农支付通道的问题,需要上农的人支持
对方支付通道稳定后就可以了"
35,TPJF,重复还款相同期数,还款通知,50007,参数错误,01 指定期数还款，不能跨期还款，只能还到期未还款首期,\,"返回00成功 01 失败  99 处理中
加一些错误信息"
36,TPJF,重复还款相同期数,还款通知,50007,核心错误,调用支付失败[核心记账失败],DATA,"无Error输出,transac正常, 询问石云峰, 是上农的账户余额不足,充值后换个流水号重新还款"
37,TPJF,重复还款相同期数,还款通知,50007,参数错误,未查询到此流水号,Data,"已经更换了流水号进行还款,结果 还是返回这个问题,交石云峰,新网返回虚账户字段缺失,但核心报错不明确,"
38,TPJF,lua调用脚本失败,还款试算,50009,调度错误,AppId 50009 call lua OnServiceReq script fail,data+transaction要看Error  同时间的,"找出lua报错的行数 关键字
改代码"
39,TPJF,还款试算结果为空,还款试算,50009,参数错误,还款试算结果为空,"未到期就偿试供期内还款,返回值均为0","正常的逻辑/不报错,只是通过设置还款值为0,来禁止还款/但采用提前还款是可以的"
40,TPJF,利率相关的疑问,还款试算,50009,参数错误,利率相关的疑问,"问核心,查数据库","1.ilgo与核心的利率要同步,且ilog要调成固定的;2.破日计算方法与正常结算方法不同"
41,TPJF,还款试算结果为空,还款试算,50009,核心错误,试算结果为空,还款期数不能为空,"1.还款通知是正常的,能返回结果
2. 试算的参数是正常的,
代码bug  席老板
修改代码后解决"
42,HB,无效授信额度,放款结果查询,50006,核心切日,"{""loanReqDesc"":""无有效授信额度"",""loanReqStatus"":""01""}",,根据经验是因为调时间把额度调过期了
43,HB,征信接口返回request failed,征信请求,50001,服务超时,"os_center{""code"":500,""data"":{},""msg"":""{'message': 'Internal Server Error'}""}",timeout,"某服务超时,找人重启一下即可"
44,HB,核心错误,放款请求,50005,核心错误,?'NoneType'?object?has?no?attribute?'scannerOpenWithStop',看data 是反欺诈报的错,淦哥解决
45,HB,原交易失败,放款结果查询,50006,行方错误,"loanResult:""01"",""loanResultDesc"":""原交易失败""","看代码,回溯这个原交易失败是从哪来的","杨越 王彬皓,上农支付通道的问题"
46,LX,入口方式,文件上传,50008,网关错误,入口方式,,http+IP白名单（网关配置）
47,LX,get config error ,文件上传,50008,网关错误,get config error ,source_id的值错误,将source_id的值改为appid的值（网关配置）
48,LX,sourceCode不存在,文件上传,50008,网关错误,sourceCode不存在,sourceCode参数错误,修改sourceCode参数（网关配置）
49,LX,public key error ,文件上传,50008,网关错误,public key error ,存入数据库数据没有做处理,修改公钥的格式（网关配置）
50,LX,签名错误,征信请求,50001,网关错误,签名错误,sercet_key 配置错误,修改sercet_key的值（网关配置）
51,LX,ocr 缺少name接口参数,征信请求,50001,调度错误,ocr 缺少name接口参数,照片正反顺序错误,调整顺序重新上传照片
52,LX,"当前不支持变更loan_type,请检查参数",授信通知,50003,调度错误,"当前不支持变更loan_type,请检查参数",loan_type返回错误,ilog
53,LX,[租户00000340产品]信息不存在,授信通知,50003,调度错误,[租户00000340产品]信息不存在,渠道号不一致,修改渠道号
54,LX,授信拒绝,授信通知,50003,调度错误,授信拒绝,申请额度太低,调高额度（核心）
55,LX,反欺诈,授信通知,50003,调度错误,反欺诈,策略拒绝,人工干预
56,LX,lnTerm超过最大期限,放款请求,50005,调度错误,lnTerm超过最大期限,参数是24,改为低于12（核心）
57,LX,缺少firstRefundDay,放款请求,50005,调度错误,缺少firstRefundDay,缺少firstRefundDay,加上firstRefundDay
58,LX,没有id参数,放款请求,50005,调度错误,没有id参数,idNo改为id,idNo改为id
59,LX,首期还款日期必须大于借据起始日期,放款请求,50005,调度错误,首期还款日期必须大于借据起始日期,系统时间不是当期时间,入参时日期大于系统日期时间（核心）
60,LX,该流水号已经请求过了,放款请求,50005,调度错误,该流水号已经请求过了,征信请求的流水号和放款请求的流水号重复,修改放款请求的流水号
61,LX,放款金额超过最大限制,放款请求,50005,调度错误,放款金额超过最大限制,核心单笔放款最大不能超过40000,减少放款金额（核心）
62,LX,首期天数小于首期最小天数[15],还款通知文件,贷后文件,参数错误,入参首期天数小于15天,\,修改配置或者修改参数（核心-石云峰）
63,LX,因[每次贷款金额未超过最小限制]，放贷失败,还款通知文件,贷后文件,参数错误,入参的放款金额小于配置的最小金额,\,修改配置或者修改参数（核心-石云峰）
64,LX,上传文件报错，上传FTP 异常: Permission denied,还款通知文件,贷后文件,参数错误,上传路径错误,\,修改上传路径（助贷方）
65,LX,上传文件内容为空,还款通知文件,贷后文件,抽数错误,抽数未选定正确数据库,\,选择正确的数据库和字段抽数（ods-牟海军）
66,LX,还款金额利息不一致,还款结果文件,贷后文件,计算错误,计算规则的天数不一致,\,修改计算规则保持数据一致（助贷方）
67,LX,还款金额精度存在1分钱误差,还款结果文件,贷后文件,计算错误,计算规则的乘除顺序不一致,\,修改计算规则保持数据一致（助贷方）
68,LX,还款跑批量文件失败,还款结果文件,贷后文件,核心错误,文件解密出错，只解密了一半的数据,\,修改解密相关代码（核心-席毅锋）
69,LX,超出渠道配额,还款结果文件,贷后文件,支付错误,今日还款超出新网支付通道配置金额,\,修改支付通道配置（核心支付-杨健）
70,LX,代偿结清数据不一致,还款结果文件,贷后文件,核心错误,前两期未跑批量代偿,\,还款不可逆，重新放款跑代偿（核心-席毅锋）
71,LX,还款金额为0,还款结果文件,贷后文件,核心错误,核心批量还款出错,\,通知核心解决（核心-席毅锋）
72,LX,无法获取追偿文件,追偿文件,贷后文件,参数错误,追偿文件上传的文件名时间与系统时间不一致,\,修改文件名的时间（助贷方）
73,LX,sftp未看到借款合同,借款合同,贷后文件,配置问题,上一个小时的合同 ，要等到下一个小时的30分上传,\,等到30分获取借款合同（借款合同-陈发兴）
